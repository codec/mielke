<!DOCTYPE html>
<html lang="en">

<head>
  <title>Mielke/1.0</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style type="text/css">
    /* https://github.com/IonicaBizau/gridly */
    .row { display: flex; }
    .col { flex: 1; }
    @media (max-width: 48em) {
        .row { flex-direction: column; }
        .col { flex: 0 0 auto; }
    }

    @media (min-width: 48em) {
      .col-tenth { flex: 0 0 10%; }
      .col-fifth { flex: 0 0 20%; }
      .col-quarter { flex: 0 0 25%; }
      .col-third { flex: 0 0 33.3333334%; }
      .col-half { flex: 0 0 50%; }
    }

    main {
      width: 48rem;
      margin: 0 auto;
    }

    main, select, input, button {
      font: .8rem/1rem 'Menlo', 'Droid Sans Mono', 'Courier New', monospace;
    }

    section {
      justify-content: space-between;
    }

    section > div {
      padding: .5rem;
    }

    @media (max-width: 48rem) {
      main {
        width: 98%;
      }
    }

    @media (max-width: 24rem) {
      section > aside {
        width: 100%;
      }
    }

    button, section, article, input {
      border-radius: .25rem;
      outline: 0;
      border: 0;
      padding: .25rem .75rem;
    }

    article {
      margin: 0.3rem;
    }

    .device-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: stretch;
    }

    .device {
      width: 100%;
    }

    @media (min-width: 48em) {
      .device {
        width: 20%;
      }
    }

    button {
      text-transform: uppercase;
      text-align: center
    }

    .large {
      padding: 1rem 3rem;
      font-size: .8rem;
    }

    .center {
      text-align: center
    }

    .stretch {
      flex: 1;
    }

    .bold {
      font-weight: 900;
    }

    .ellipsis {
      text-overflow: ellipsis;
      white-space: nowrap;
      overflow: hidden;
    }

    .dark-gray,
    button {
      background-color: #4f5459
    }

    .dark-gray-text {
      color: #4f5459
    }

    .gray-text {
      color: #858d96
    }

    .light-gray {
      background-color: #e2e5e9
    }

    .light-gray-text {
      color: #e2e5e9
    }

    .black {
      background-color: #353535
    }

    .red {
      background-color: #ff7772
    }

    .red-text {
      color: #ff7772
    }

    .green {
      background-color: #67ba72
    }

    .green-text {
      color: #67ba72
    }

    .online {
      background: #e9ffd9;
      color: #4f5459;
    }

    .offline {
      background: #ffecec;
      color: #f5aca6;
      opacity: .4;
    }
  </style>
</head>

<body>

<main>
  <section class="row light-gray">
    <div class="row"><h1>Mielke/1.0</h1></div>
  </section>
  <section>
    <div class="device-list">{{ range .List }}
      <article id="st-{{ .Hostname }}" class="device{{ if .Online }} online{{ else }} offline{{ end }}">
        <p class="ellipsis{{ if .Online }} bold{{ end }}">
          {{ .Alias }}
        </p>
        <p class="gray-text ellipsis">
          <small>{{ .Hostname }}</small>
        </p>
      </article>{{ else }}
      <p class="center">no stations found</p>{{ end }}
    </div>
  </section>{{ if .Self }}
  <form action="whitelist" method="get">
  <section class="row controls light-gray">
      <div class="row">
        <button type="submit" name="mode" value="rm" class="col large red">set invisible</button>
      </div>
      <div class="row">
        <input type="text" name="alias" placeholder="{{ .Self.Hostname }}" class="col large">
      </div>
      <div class="row">
        <button type="submit" name="mode" value="add" class="col large green">set visible</button>
      </div>
  </section>{{ end }}
  </form>
</main>

</body>

</html>
